<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestión de Reservas</title>
    <link rel="stylesheet" href="styles.css" />
    <script defer src="../db.js"></script>
    <script defer src="../login.js"></script>
    <script defer type="module" src="script.js"></script>
    <link rel="stylesheet" href="../nav.css" />
    <style>
      table {
        width: 100%;
        border-collapse: collapse;
      }
      th,
      td {
        padding: 10px;
        border: 1px solid #ccc;
      }
      .subtasks-row {
        display: none;
        background-color: #f9f9f9;
      }
    </style>
  </head>
  <body>
    <nav>
      <div class="logo" id="acceso">
        <img src="../logo.jpg" alt="logo" />
      </div>
      <ul>
        <li><a href="../index.html">Gestión de Reservas</a></li>
        <li><a href="">Acuerdos</a></li>
        <li><a href="../Clientes/index.html">Clientes</a></li>
        <li><a href="../Historial/index.html">Historial</a></li>
        <li><a href="../Simulador/index.html">PDF</a></li>
        <li>
          <a href="../Suscriptores/index.html">Members Club</a>
        </li>
      </ul>
      <div class="hamburger">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </nav>
    <div class="menubar">
      <ul>
        <li><a href="../index.html">Gestion de Reservas</a></li>
        <li><a href="">Acuerdos</a></li>
        <li><a href="../Clientes/index.html">Clientes</a></li>
        <li><a href="../Historial/index.html">Historial</a></li>
        <li>
          <a href="../Simulador/index.html">PDF</a>
        </li>
        <li>
          <a href="../Suscriptores/index.html">Members Club</a>
        </li>
      </ul>
    </div>
    <div class="buttons-container">
      <button id="nuevoAcuerdoBtn">Nuevo Acuerdo</button>
      <button id="agregarVentaBtn">Ingresar Venta</button>
    </div>

    <!-- Tabla de acuerdos con ventas -->
    <div id="acuerdosContainer">
      <table id="acuerdosTable" class="tabla1">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Total Ventas</th>
          </tr>
        </thead>
        <tbody id="acuerdosTableBody">
          <!-- Las filas de los acuerdos se agregarán aquí dinámicamente -->
        </tbody>
      </table>
    </div>
    <h1>Gestión de Tareas</h1>
    <button id="botonModalTareas">Nueva Tarea</button>
    <div id="Tareas"></div>

    <!-- Modal para Nueva Tarea -->
    <div id="newTaskModal" class="modal">
      <div class="modal-content">
        <label>Empresa: <input type="text" id="newTaskEmpresa" /></label><br />
        <label>Fecha Límite: <input type="date" id="newTaskFecha" /></label
        ><br />
        <label>Descripción: <input type="text" id="newTaskDescripcion" /></label
        ><br />
        <button id="botonAgregarTarea">Agregar Tarea</button>
        <button id="botonCancelarTarea">Cancelar</button>
      </div>
      <!-- Modal para Nueva Tarea -->
    </div>
    <div id="newSubTaskModal" class="modal">
      <div class="modal-content">
        <label>Titulo: <input type="text" id="newSubTaskEmpresa" /></label
        ><br />
        <label>Fecha Límite: <input type="date" id="newSubTaskFecha" /></label
        ><br />
        <label
          >Descripción: <input type="text" id="newSubTaskDescripcion" /></label
        ><br />
        <button id="botonAgregarSubTarea">Agregar Tarea</button>
        <button id="botonCancelarSubTarea">Cancelar</button>
      </div>
    </div>
    <!-- Modal para Nuevo Acuerdo -->
    <div id="acuerdoModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Nuevo Acuerdo</h2>
        <form id="acuerdoForm">
          <label for="nombre">Nombre:</label>
          <input type="text" id="nombre" name="nombre" required />
          <br />
          <label for="porcentaje">Porcentaje:</label>
          <input type="number" id="porcentaje" name="porcentaje" required />
          <br />
          <button type="submit">Agregar Acuerdo</button>
        </form>
      </div>
    </div>

    <!-- Modal para Ingresar Venta -->
    <div id="ventaModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Agregar Venta</h2>
        <form id="ventaForm">
          <label for="acuerdoSelect">Seleccionar Acuerdo:</label>
          <select id="acuerdoSelect" name="acuerdoSelect" required></select>
          <br />
          <label for="cliente">Cliente:</label>
          <input type="text" id="cliente" name="cliente" required />
          <label for="monto">Monto:</label>
          <input type="number" id="monto" name="monto" required />
          <br />
          <label for="descripcion">Descripción:</label>
          <input type="text" id="descripcion" name="descripcion" required />
          <br />
          <button type="submit">Confirmar Venta</button>
        </form>
      </div>
    </div>
  </body>
</html>
